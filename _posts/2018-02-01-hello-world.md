---
title: News Feed Patterns
header:
  teaser: images/twitter_feed/teaser.png
excerpt: Проектируем News Feed как в твиттере
date: '2018-02-01 00:00:00'
layout: single
classes: wide
related: false
---

Никогда не задумывались, как спроектировать новостную ленту, похожую на главную страницу твиттера?

Оказывается, парни из ядра Twitter рассказывали в 2013 про их архитектуру и про то, как они решают задачку с лентами твитов. Приятного просмотра!

[Timelines at Scale](https://www.infoq.com/presentations/Twitter-Timeline-Scalability)

**TL;DR:**
- Можно хранить ленту твитов, написанных каждым пользователем, и при отображении News Feed "склеивать" в памяти несколько лент. Тяжело работает, если приходится склеивать ленты тысячи пользователей.
- Можно максимально денормализовать данные и писать News Feed для каждого пользователя. Тогда каждый твит будет записываться отдельно в каждый News Feed подписчика. Чтение данных работает мгновенно, но запись будет работать адски долго - особенно для какого-нибудь Джастина Бибера с миллионами подписчиков.
- Можно подружить два подхода и получить архитектурный компромисс, который и работает в Twitter'е.
